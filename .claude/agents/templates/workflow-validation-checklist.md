# 工作流程验证检查清单

## 🚨 强制性流程验证

### 阶段1：产品分析验证
- [ ] **产品经理已参与** - 确保产品经理是第一个分析用户需求的
- [ ] **PRD文档已创建** - 检查 `specs/active/` 目录下是否存在PRD文档
- [ ] **PRD内容完整** - 验证PRD包含以下必需内容：
  - [ ] 用户故事
  - [ ] 商业价值定义
  - [ ] 验收标准
  - [ ] 成功指标
  - [ ] MVP范围
  - [ ] 时间规划

### 阶段2：任务分配验证
- [ ] **任务已正确分配** - 确认任务分配给了正确的工程师角色
- [ ] **依赖关系已识别** - 检查任务间的依赖关系
- [ ] **时间规划合理** - 验证开发时间预估的合理性
- [ ] **资源分配充足** - 确认有足够的工程师资源

### 阶段3：开发执行验证
- [ ] **后端开发完成** - API接口已实现并测试
- [ ] **前端开发完成** - UI组件已实现并测试
- [ ] **测试已编写执行** - 单元测试和集成测试已完成
- [ ] **代码质量检查通过** - 代码审查已完成

### 阶段4：产品验收验证
- [ ] **产品经理已验证** - 确保产品经理进行了功能验收
- [ ] **验收标准全部通过** - 验证所有验收标准已满足
- [ ] **验证报告已创建** - 检查 `docs/verification/` 目录
- [ ] **完成报告已创建** - 检查 `docs/completion/` 目录
- [ ] **PRD状态已更新** - 确认PRD已移至 `specs/completed/`
- [ ] **商业价值已评估** - 验证商业价值评估已完成

## ❌ 流程违规检测和处理

### 违规类型检测
1. **跳过产品经理** - 直接开始开发而未让产品经理分析
2. **缺少PRD文档** - 开发开始前未创建产品需求文档
3. **未完成验收** - 开发完成后未进行产品经理验收
4. **文档状态未更新** - 未更新PRD状态和创建相关报告

### 违规处理流程
1. **立即停止** - 发现违规立即停止当前任务
2. **补全缺失步骤** - 回到缺失的流程步骤重新开始
3. **重新验证** - 完成所有缺失步骤后重新验证
4. **文档更新** - 确保所有文档都正确更新

## 📋 验证工具和脚本

### 自动化检查
```bash
# 检查PRD文档是否存在
check_prd_exists() {
    if [ ! -f "specs/active/$(basename $PRD_FILE)" ]; then
        echo "❌ 错误：PRD文档不存在"
        return 1
    fi
    echo "✅ PRD文档存在"
    return 0
}

# 检查产品经理是否参与
check_pm_involvement() {
    # 检查任务历史记录
    if grep -q "product-manager" "$TASK_LOG"; then
        echo "✅ 产品经理已参与"
        return 0
    else
        echo "❌ 错误：产品经理未参与"
        return 1
    fi
}

# 检查验证报告是否存在
check_verification_reports() {
    if [ -d "docs/verification" ] && [ -d "docs/completion" ]; then
        echo "✅ 验证报告目录存在"
        return 0
    else
        echo "❌ 错误：验证报告目录不存在"
        return 1
    fi
}
```

## 🔄 持续改进

### 流程优化建议
- 定期审查工作流程的有效性
- 收集团队反馈改进流程
- 更新检查清单和模板
- 培训团队成员遵守流程

### 质量指标
- 流程违规次数 < 1次/月
- PRD完成度 > 95%
- 验收报告完整性 = 100%
- 团队满意度 > 4.5/5

---

**注意：此检查清单是强制性的，必须严格按照要求执行每一项验证！**