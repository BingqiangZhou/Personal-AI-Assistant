# =============================================================================
# Docker 云端生产环境配置 / Cloud Production Environment Configuration
# =============================================================================
# 此文件用于云端生产部署
# This file is for cloud production deployment
#
# 使用方法 / Usage:
#   cp .env.example .env
#   docker-compose up -d
#
# 后端配置 / Backend Configuration:
#   后端只需要配置一个 .env 文件 (backend/.env)
#   Backend only needs one .env file (backend/.env)

# =============================================================================
# ============ 项目配置 / Project Configuration ============
# =============================================================================
PROJECT_NAME=personal_ai

# =============================================================================
# ============ 端口配置 / Port Configuration ============
# =============================================================================
# Nginx 端口（标准生产端口）/ Nginx ports (standard production ports)
HTTP_PORT=80
HTTPS_PORT=443

# 后端端口（不对外暴露，仅在容器内部）/ Backend port (internal only)
BACKEND_PUBLISH_PORT=

# 数据库和 Redis 端口（生产环境不暴露）/ Database and Redis ports (not exposed)
DB_PORT=
REDIS_PORT=

# =============================================================================
# ============ 数据库配置 / Database Configuration ============
# =============================================================================
POSTGRES_DB=personal_ai
POSTGRES_USER=admin
# ⚠️ 必须修改 / MUST CHANGE
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# =============================================================================
# ============ Redis 配置 / Redis Configuration ============
# =============================================================================
REDIS_PASSWORD=

# =============================================================================
# ============ 后端配置 / Backend Configuration ============
# =============================================================================
# 后端源码目录（云端使用构建后的镜像）/ Backend source directory (use built image)
BACKEND_SRC_DIR=../backend
# 后端启动命令（云端使用 gunicorn）/ Backend command (gunicorn for production)
BACKEND_CMD=uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4 --log-level info

# Celery 配置 / Celery configuration
CELERY_WORKERS=2
CELERY_LOG_LEVEL=info

# =============================================================================
# ============ Nginx 配置 / Nginx Configuration ============
# =============================================================================
# Nginx 配置路径 / Nginx configuration paths
NGINX_CONF_DIR=./nginx
NGINX_CERT_DIR=./nginx/cert
NGINX_LOG_DIR=./nginx/logs

# Nginx profile 配置（留空表示默认启动）/ Nginx profile config (empty means start by default)
# 云端部署直接运行: docker-compose up -d
# Cloud deployment: docker-compose up -d
COMPOSE_PROFILES=

# =============================================================================
# ============ 存储路径配置 / Storage Path Configuration ============
# =============================================================================
# 日志目录 / Logs directory
LOG_DIR=./logs
# 转录临时文件目录 / Transcription temp directory
TRANSCRIPTION_TEMP_DIR=./temp/transcription
# 转录存储目录 / Transcription storage directory
TRANSCRIPTION_STORAGE_DIR=./storage/podcasts
