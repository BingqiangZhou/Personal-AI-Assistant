# 测试资源说明

此目录包含用于验证 AI API 功能的示例文件。

## 文件说明

- `example.txt` - 测试文本，包含期望的转录结果
- `example.mp3` - 测试音频文件（16kHz 16bit），用于测试转录 API

## 添加 example.mp3

由于音频文件较大且无法通过代码生成，您需要手动添加 `example.mp3` 文件到此目录。

### 音频文件要求

1. **格式**: MP3
2. **采样率**: 16kHz (16000 Hz)
3. **位深度**: 16bit
4. **内容**: 朗读以下文本
   ```
   华为致力于把数字世界带入每个人、每个家庭、每个组织，构建万物互联的智能世界。
   ```

### 如何获取音频文件

#### 方法 1: 使用 TTS（文本转语音）服务

您可以使用以下任一 TTS 服务生成音频：

1. **Azure TTS**
   - 使用中文语音
   - 设置采样率为 16kHz

2. **Google Cloud Text-to-Speech**
   - 语言: zh-CN
   - 采样率: 16000 Hz

3. **ElevenLabs** (推荐)
   - 中文语音模型
   - 导出为 MP3，16kHz

4. **本地工具**
   ```bash
   # 使用 macOS 的 say 命令
   say "华为致力于把数字世界带入每个人、每个家庭、每个组织，构建万物互联的智能世界。" -o output.aiff --data-format=LE16@16000

   # 转换为 MP3
   ffmpeg -i output.aiff -codec:a libmp3lame -ar 16000 -ac 1 -b:a 64k example.mp3
   ```

#### 方法 2: 使用现有的测试音频

如果您有符合要求的中文测试音频，可以直接使用。确保音频清晰地朗读了期望文本。

### 验证音频文件

放置音频文件后，您可以通过以下方式验证：

1. **启动 Celery Worker** - 查看 API 配置验证日志
2. **在设置中测试模型** - 使用 AI 模型管理页面的测试功能

### 预期结果

- **相似度 >= 90%**: 测试通过 ✅
- **相似度 < 90%**: 测试失败 ❌

系统会自动清理转录结果（去除标点、空格等），然后计算与期望文本的相似度。
